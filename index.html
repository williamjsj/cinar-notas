<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Consulta de Notas - Cinar Sistemas</title>
  <meta name="description" content="Consulta tu nota definitiva - Esp. William Salazar Jurado - Cinar Sistemas" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    #results {
      max-height: 60vh;
      overflow-y: auto;
    }
    ::-webkit-scrollbar {
      width: 6px;
    }
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
    }
    ::-webkit-scrollbar-thumb {
      background: #0d47a1;
      border-radius: 3px;
    }
    body {
      user-select: none;
    }
    #teacher-view {
      display: none;
    }
    .logo-text {
      font-size: 1.8rem;
      font-weight: 700;
      letter-spacing: -0.5px;
      color: #0d47a1;
      text-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }
    .footer-link {
      word-break: break-all;
      font-size: 0.75rem;
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">

  <div class="container mx-auto px-4 py-6 max-w-md">

    <!-- Logo en texto: CINAR SISTEMAS -->
    <div class="text-center mb-4">
      <h1 class="logo-text">CINAR SISTEMAS</h1>
      <p class="text-sm text-gray-700 mt-1">Docente: Esp. William Salazar Jurado</p>
      <p class="text-lg font-semibold text-blue-800 mt-3">Consulta de Notas</p>
      <p class="text-xs text-gray-600">Periodo Académico: <strong>2025C</strong></p>
    </div>

    <!-- Mensaje de advertencia -->
    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-3 mb-5 text-xs text-yellow-800 rounded">
      <strong>Advertencia:</strong> Este sistema es exclusivo para estudiantes. 
      Las consultas son confidenciales y se eliminarán posteriormente.
    </div>

    <!-- Búsqueda por cédula -->
    <div id="student-view">
      <label for="cedula" class="block text-sm font-medium text-gray-700 mb-1">No. Documento de Identidad</label>
      <input 
        type="text" 
        id="cedula" 
        class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-center text-lg"
        placeholder="Ej: 12345678"
        maxlength="12"
        inputmode="numeric"
      />
      <button id="buscar" class="w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition">
        Consultar Notas
      </button>

      <!-- Resultados -->
      <div id="results" class="mt-6 space-y-4"></div>
    </div>

    <!-- Enlace a modo docente -->
    <div class="text-center mt-6">
      <button id="teacher-link" class="text-sm text-blue-600 hover:underline">Acceso docente</button>
    </div>

    <!-- Modo docente -->
    <div id="teacher-view" class="mt-6">
      <div class="bg-white p-4 rounded-lg shadow">
        <h3 class="font-bold text-gray-800 mb-3">Modo Docente</h3>
        <input 
          type="password" 
          id="teacher-pass" 
          class="w-full p-2 border border-gray-300 rounded text-sm mb-2" 
          placeholder="Contraseña" 
        />
        <button id="enter-teacher" class="w-full bg-green-600 text-white text-sm py-2 rounded hover:bg-green-700">Ingresar</button>
        <button id="exit-teacher" class="w-full mt-2 bg-red-600 text-white text-sm py-2 rounded hover:bg-red-700">Salir</button>
      </div>
      <div id="all-students" class="mt-4 space-y-3 max-h-96 overflow-y-auto text-sm"></div>
    </div>

    <!-- Pie de página actualizado con enlace funcional -->
    <div class="text-center mt-8 pt-4 border-t border-gray-200">
      <p class="text-xs text-gray-500 leading-tight mb-2">
        <strong>Sitio provisional.</strong><br>
        Consulta también tu certificado oficial en:
      </p>
      <a 
        href="https://www.cinarsistemas.edu.co/consulta/consulta/pagos/frmcertificado.php" 
        target="_blank" 
        class="footer-link text-xs text-blue-600 underline hover:text-blue-800 break-words"
      >
        Formulario de certificado de calificaciones
      </a>
      <p class="text-xs text-gray-400 mt-3">&copy; 2025 - Todos los derechos reservados</p>
    </div>

  </div>

  <script>
    // DATOS DE TUS ESTUDIANTES (ACTUALIZADOS)
    const students = [
      {
    cedula: "1037658973",
    nombre: "Daniel  Agudelo Sisquiarco",
    asignatura: "Matematica Financiera",
    parcial: 0,
    final: null,
    definitiva: null
  },
  {
    cedula: "1087200494",
    nombre: "Sandra Patricia Angulo Caicedo",
    asignatura: "Matematica Financiera",
    parcial: 5,
    final: 5,
    definitiva: 5
  },
  {
    cedula: "1141316368",
    nombre: "Juan Sebastian Anzola Quiroz",
    asignatura: "Matematica Financiera",
    parcial: 4,
    final: 5,
    definitiva: 5
  },
  {
    cedula: "1083752862",
    nombre: "Andrea Alexandra Burbano Rosero",
    asignatura: "Matematica Financiera",
    parcial: 4,
    final: 3,
    definitiva: 4
  },
  {
    cedula: "1004214911",
    nombre: "Shamady Manuela Cabrera Mena",
    asignatura: "Matematica Financiera",
    parcial: 4,
    final: 8,
    definitiva: 5
  },
  {
    cedula: "36759562",
    nombre: "Johanna Calderon Gutierrez",
    asignatura: "Matematica Financiera",
    parcial: 0,
    final: null,
    definitiva: null
  },
  {
    cedula: "59312718",
    nombre: "Miryam Andrea  Calvache Insuasty",
    asignatura: "Matematica Financiera",
    parcial: 4,
    final: 1,
    definitiva: 4
  },
  {
    cedula: "1086359663",
    nombre: "Sonia Carolina  Erazo Lucena",
    asignatura: "Matematica Financiera",
    parcial: 5,
    final: 5,
    definitiva: 5
  },
  {
    cedula: "1004235310",
    nombre: "Karen Vanessa Fraga Ortega",
    asignatura: "Matematica Financiera",
    parcial: 5,
    final: 5,
    definitiva: 5
  },
  {
    cedula: "1233190066",
    nombre: "Leidy Alejandra Gomez Risueño",
    asignatura: "Matematica Financiera",
    parcial: 5,
    final: 5,
    definitiva: 5
  },
  {
    cedula: "1080041393",
    nombre: "William Henry  Guachavez Perez",
    asignatura: "Matematica Financiera",
    parcial: 5,
    final: 5,
    definitiva: 5
  },
  {
    cedula: "1085292419",
    nombre: "Deiby Richar Maigual Cabrera",
    asignatura: "Matematica Financiera",
    parcial: 5,
    final: 2,
    definitiva: null
  },
  {
    cedula: "59829175",
    nombre: "Dexi Ada Martinez Muñoz",
    asignatura: "Matematica Financiera",
    parcial: 4,
    final: 1,
    definitiva: 4
  },
  {
    cedula: "1193523468",
    nombre: "Lady Carolina Martos Erazo",
    asignatura: "Matematica Financiera",
    parcial: 4,
    final: 8,
    definitiva: 5
  },
  {
    cedula: "1085303260",
    nombre: "Edwin Alexander Montanchez Aspriella",
    asignatura: "Matematica Financiera",
    parcial: 4,
    final: 5,
    definitiva: 1
  },
  {
    cedula: "1004134082",
    nombre: "Jesus Sebastian Muñoz Rosero",
    asignatura: "Matematica Financiera",
    parcial: 4,
    final: 5,
    definitiva: 4
  },
  {
    cedula: "1085262183",
    nombre: "Dary Marcela Rivera Espinoza",
    asignatura: "Matematica Financiera",
    parcial: 4,
    final: 3,
    definitiva: 4
  },
  {
    cedula: "1078371101",
    nombre: "Edisson Orlando Yanguatin Meneses",
    asignatura: "Matematica Financiera",
    parcial: 4,
    final: 8,
    definitiva: 5
  },
  {
    cedula: "1087200494",
    nombre: "Sandra Patricia Angulo Caicedo",
    asignatura: "Servicio Al Cliente",
    parcial: 5,
    final: 5,
    definitiva: 5
  },
  {
    cedula: "1233189205",
    nombre: "Karen Vanessa Arroyo Montenegro",
    asignatura: "Servicio Al Cliente",
    parcial: 5,
    final: 2,
    definitiva: null
  },
  {
    cedula: "1020800564",
    nombre: "Jessica Alejandra Bastidas Franco",
    asignatura: "Servicio Al Cliente",
    parcial: 5,
    final: 5,
    definitiva: 5
  },
  {
    cedula: "1085320953",
    nombre: "Tania Yazmin Bolaños Insuasty",
    asignatura: "Servicio Al Cliente",
    parcial: 5,
    final: 5,
    definitiva: 5
  },
  {
    cedula: "1085304874",
    nombre: "Monica Isabel Cadena Maigual",
    asignatura: "Servicio Al Cliente",
    parcial: 5,
    final: 5,
    definitiva: 5
  },
  {
    cedula: "1088830723",
    nombre: "Laura Caicedo Ramirez",
    asignatura: "Servicio Al Cliente",
    parcial: 5,
    final: 5,
    definitiva: 5
  },
  {
    cedula: "1193469738",
    nombre: "Andres Felipe Cruz Ruiz",
    asignatura: "Servicio Al Cliente",
    parcial: 5,
    final: 2,
    definitiva: null
  },
  {
    cedula: "1085314941",
    nombre: "Maria Fernanda Dulcey Martinez",
    asignatura: "Servicio Al Cliente",
    parcial: 5,
    final: 5,
    definitiva: 5
  },
  {
    cedula: "5207953",
    nombre: "Jonathan Spencer Figueroa Clark",
    asignatura: "Servicio Al Cliente",
    parcial: 4,
    final: 8,
    definitiva: 4
  },
  {
    cedula: "59830176",
    nombre: "Sandra Jackeline Guerrero Leyton",
    asignatura: "Servicio Al Cliente",
    parcial: 5,
    final: 2,
    definitiva: null
  },
  {
    cedula: "1193217556",
    nombre: "Maria  Paula Marin Eslava",
    asignatura: "Servicio Al Cliente",
    parcial: 5,
    final: 2,
    definitiva: null
  },
  {
    cedula: "1233191632",
    nombre: "Lizeth  Vanessa Martinez Muñoz",
    asignatura: "Servicio Al Cliente",
    parcial: 4,
    final: 8,
    definitiva: 1
  },
  {
    cedula: "37087135",
    nombre: "Nathaly Adriana Martinez Zambrano",
    asignatura: "Servicio Al Cliente",
    parcial: 5,
    final: 5,
    definitiva: 5
  },
  {
    cedula: "1193201531",
    nombre: "Alex Camilo Matabanchoy Cuaran",
    asignatura: "Servicio Al Cliente",
    parcial: 4,
    final: 8,
    definitiva: 3
  },
  {
    cedula: "1080040175",
    nombre: "Maryorie Vanessa Narvaez Medina",
    asignatura: "Servicio Al Cliente",
    parcial: 4,
    final: 8,
    definitiva: 4
  },
  {
    cedula: "1004192427",
    nombre: "Wilmer Andres Piscal Chagueza",
    asignatura: "Servicio Al Cliente",
    parcial: 5,
    final: 5,
    definitiva: 5
  },
  {
    cedula: "1004597878",
    nombre: "Katherine Eliana Rodriguez Alvarez",
    asignatura: "Servicio Al Cliente",
    parcial: 5,
    final: 5,
    definitiva: 5
  },
  {
    cedula: "1004233787",
    nombre: "Johan Sebastian Rosero  Rodriguez",
    asignatura: "Servicio Al Cliente",
    parcial: 4,
    final: 8,
    definitiva: 4
  },
  {
    cedula: "1085337979",
    nombre: "Carlos Ferney Tarapuez Guerrero",
    asignatura: "Servicio Al Cliente",
    parcial: 0,
    final: null,
    definitiva: null
  },
  {
    cedula: "1085315854",
    nombre: "Driana Eliceth Toro Arteaga",
    asignatura: "Servicio Al Cliente",
    parcial: 5,
    final: 5,
    definitiva: 5
  },
  {
    cedula: "1004508686",
    nombre: "Javier Alveiro Usama Chicaiza",
    asignatura: "Servicio Al Cliente",
    parcial: 4,
    final: 6,
    definitiva: 4
  },
  {
    cedula: "1085274065",
    nombre: "Margoth Viviana Ascuntar Chachinoy",
    asignatura: "Gestion Empresarial",
    parcial: 5,
    final: null,
    definitiva: null
  },
  {
    cedula: "1085919275",
    nombre: "Maria Camila Chacon Bolanos",
    asignatura: "Gestion Empresarial",
    parcial: 5,
    final: null,
    definitiva: null
  },
  {
    cedula: "1085280191",
    nombre: "Marly Jennifer Chaves Granja",
    asignatura: "Gestion Empresarial",
    parcial: 5,
    final: null,
    definitiva: null
  },
  {
    cedula: "1114825473",
    nombre: "Aida Magaly Cruz Narvaez",
    asignatura: "Gestion Empresarial",
    parcial: 5,
    final: null,
    definitiva: null
  },
  {
    cedula: "1007706071",
    nombre: "Cristhian David Delgado Tulcan",
    asignatura: "Gestion Empresarial",
    parcial: null,
    final: null,
    definitiva: null
  },
  {
    cedula: "1085338751",
    nombre: "Leidy Geovanna Escobar Orbes",
    asignatura: "Gestion Empresarial",
    parcial: 5,
    final: null,
    definitiva: null
  },
  {
    cedula: "8151333",
    nombre: "Sofia Valentina Gomez Useche",
    asignatura: "Gestion Empresarial",
    parcial: 4,
    final: 5,
    definitiva: null
  },
  {
    cedula: "1004410605",
    nombre: "Brayan Francisco Maigual Fuelagan",
    asignatura: "Gestion Empresarial",
    parcial: 5,
    final: null,
    definitiva: null
  },
  {
    cedula: "1085340975",
    nombre: "Daniel Esteban Martinez Melo",
    asignatura: "Gestion Empresarial",
    parcial: null,
    final: null,
    definitiva: null
  },
  {
    cedula: "1193032997",
    nombre: "Gabriela Stephania Martinez Samaniego",
    asignatura: "Gestion Empresarial",
    parcial: 5,
    final: null,
    definitiva: null
  },
  {
    cedula: "1081275938",
    nombre: "Dayana Marcela Montanchez Buesaquillo",
    asignatura: "Gestion Empresarial",
    parcial: 5,
    final: null,
    definitiva: null
  },
  {
    cedula: "1004217118",
    nombre: "Jedy Georgett Perez Pantoja",
    asignatura: "Gestion Empresarial",
    parcial: 4,
    final: 5,
    definitiva: null
  },
  {
    cedula: "1085309349",
    nombre: "Luz Dary Pinchao Paz",
    asignatura: "Gestion Empresarial",
    parcial: 5,
    final: null,
    definitiva: null
  },
  {
    cedula: "1085293512",
    nombre: "Carol Stefanny Quiñones Montenegro",
    asignatura: "Gestion Empresarial",
    parcial: 5,
    final: null,
    definitiva: null
  },
  {
    cedula: "36756845",
    nombre: "Ximena De Jesus Rodriguez Ceballos",
    asignatura: "Gestion Empresarial",
    parcial: 5,
    final: null,
    definitiva: null
  },
  {
    cedula: "1084220197",
    nombre: "Jonathan Oswaldo Sacanambuy Imbajoa",
    asignatura: "Gestion Empresarial",
    parcial: 4,
    final: 6,
    definitiva: null
  }
];

    // Buscar por cédula
    document.getElementById('buscar').addEventListener('click', () => {
      const cedula = document.getElementById('cedula').value.trim();
      const resultsDiv = document.getElementById('results');
      resultsDiv.innerHTML = '';

      if (!cedula) {
        resultsDiv.innerHTML = '<p class="text-red-500 text-center text-sm">Ingresa tu cédula.</p>';
        return;
      }

      const filtered = students.filter(s => s.cedula === cedula);
      if (filtered.length === 0) {
        resultsDiv.innerHTML = '<p class="text-red-500 text-center text-sm">No se encontraron notas para esta cédula.</p>';
        return;
      }

      const nombre = filtered[0].nombre;
      resultsDiv.innerHTML += `
        <div class="bg-white p-4 rounded-lg shadow">
          <h3 class="font-bold text-gray-800">Estudiante: ${nombre}</h3>
          <p class="text-sm text-gray-600">Cédula: ${cedula}</p>
        </div>
      `;

      filtered.forEach(asig => {
        resultsDiv.innerHTML += `
          <div class="bg-white p-4 rounded-lg shadow">
            <h4 class="font-semibold text-blue-900">${asig.asignatura}</h4>
            <div class="grid grid-cols-3 gap-2 mt-2 text-center text-sm">
              <div class="bg-blue-50 p-2 rounded">
                <div class="text-gray-600">Parcial</div>
                <div class="font-bold">${asig.parcial}</div>
              </div>
              <div class="bg-green-50 p-2 rounded">
                <div class="text-gray-600">Final</div>
                <div class="font-bold">${asig.final}</div>
              </div>
              <div class="bg-purple-50 p-2 rounded">
                <div class="text-gray-600">Definitiva</div>
                <div class="font-bold text-purple-700">${asig.definitiva}</div>
              </div>
            </div>
          </div>
        `;
      });
    });

    // Modo docente
    const teacherLink = document.getElementById('teacher-link');
    const teacherView = document.getElementById('teacher-view');
    const exitTeacher = document.getElementById('exit-teacher');

    teacherLink.addEventListener('click', () => {
      document.getElementById('student-view').style.display = 'none';
      teacherView.style.display = 'block';
    });

    exitTeacher.addEventListener('click', () => {
      teacherView.style.display = 'none';
      document.getElementById('student-view').style.display = 'block';
      document.getElementById('teacher-pass').value = '';
      document.getElementById('all-students').innerHTML = '';
    });

    document.getElementById('enter-teacher').addEventListener('click', () => {
      const pass = document.getElementById('teacher-pass').value;
      if (pass !== 'cinar2025') {
        alert('Contraseña incorrecta');
        return;
      }

      const allStudentsDiv = document.getElementById('all-students');
      allStudentsDiv.innerHTML = '<p class="font-bold text-green-600 mb-2">Todas las notas cargadas:</p>';

      const grouped = {};
      students.forEach(s => {
        if (!grouped[s.cedula]) grouped[s.cedula] = { nombre: s.nombre, asignaturas: [] };
        grouped[s.cedula].asignaturas.push(s);
      });

      Object.keys(grouped).forEach(cedula => {
        const est = grouped[cedula];
        let html = `
          <div class="border p-3 rounded bg-gray-50 mb-2">
            <strong>${est.nombre}</strong> (${cedula})
            <div class="mt-2 space-y-1">
        `;
        est.asignaturas.forEach(asig => {
          html += `
            <div class="text-xs bg-white p-1 rounded">
              ${asig.asignatura}: P${asig.parcial} | F${asig.final} | Def: ${asig.definitiva}
            </div>
          `;
        });
        html += `</div></div>`;
        allStudentsDiv.innerHTML += html;
      });
    });

    // Permitir Enter
    document.getElementById('cedula').addEventListener('keypress', e => {
      if (e.key === 'Enter') document.getElementById('buscar').click();
    });
    document.getElementById('teacher-pass').addEventListener('keypress', e => {
      if (e.key === 'Enter') document.getElementById('enter-teacher').click();
    });

    // Evitar clic derecho y selección
    document.addEventListener('contextmenu', e => e.preventDefault());
    document.addEventListener('selectstart', e => e.preventDefault());
  </script>
</body>
</html>
