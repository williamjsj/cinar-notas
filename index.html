<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Consulta de Notas - Cinar Sistemas</title>
  <meta name="description" content="Consulta tu nota definitiva - Esp. William Salazar Jurado - Cinar Sistemas" />
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <style>
    body {
      font-family: 'Inter', sans-serif;
    }
    #results {
      max-height: 60vh;
      overflow-y: auto;
    }
    ::-webkit-scrollbar {
      width: 6px;
    }
    ::-webkit-scrollbar-track {
      background: #f1f1f1;
    }
    ::-webkit-scrollbar-thumb {
      background: #0d47a1;
      border-radius: 3px;
    }
    body {
      user-select: none;
    }
    #teacher-view {
      display: none;
    }
    .logo-text {
      font-size: 1.8rem;
      font-weight: 700;
      letter-spacing: -0.5px;
      color: #0d47a1;
      text-shadow: 0 1px 2px rgba(0,0,0,0.1);
    }
    .footer-link {
      word-break: break-all;
      font-size: 0.75rem;
    }
  </style>
</head>
<body class="bg-gray-50 text-gray-800">

  <div class="container mx-auto px-4 py-6 max-w-md">

    <!-- Logo en texto: CINAR SISTEMAS -->
    <div class="text-center mb-4">
      <h1 class="logo-text">CINAR SISTEMAS</h1>
      <p class="text-sm text-gray-700 mt-1">Docente: Esp. William Salazar Jurado</p>
      <p class="text-lg font-semibold text-blue-800 mt-3">Consulta de Notas</p>
      <p class="text-xs text-gray-600">Periodo Académico: <strong>2025B</strong></p>
    </div>

    <!-- Mensaje de advertencia -->
    <div class="bg-yellow-50 border-l-4 border-yellow-400 p-3 mb-5 text-xs text-yellow-800 rounded">
      <strong>Advertencia:</strong> Este sistema es exclusivo para estudiantes. 
      Las consultas son confidenciales y se eliminarán posteriormente.
    </div>

    <!-- Búsqueda por cédula -->
    <div id="student-view">
      <label for="cedula" class="block text-sm font-medium text-gray-700 mb-1">No. Documento de Identidad</label>
      <input 
        type="text" 
        id="cedula" 
        class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-center text-lg"
        placeholder="Ej: 12345678"
        maxlength="12"
        inputmode="numeric"
      />
      <button id="buscar" class="w-full mt-4 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition">
        Consultar Notas
      </button>

      <!-- Resultados -->
      <div id="results" class="mt-6 space-y-4"></div>
    </div>

    <!-- Enlace a modo docente -->
    <div class="text-center mt-6">
      <button id="teacher-link" class="text-sm text-blue-600 hover:underline">Acceso docente</button>
    </div>

    <!-- Modo docente -->
    <div id="teacher-view" class="mt-6">
      <div class="bg-white p-4 rounded-lg shadow">
        <h3 class="font-bold text-gray-800 mb-3">Modo Docente</h3>
        <input 
          type="password" 
          id="teacher-pass" 
          class="w-full p-2 border border-gray-300 rounded text-sm mb-2" 
          placeholder="Contraseña" 
        />
        <button id="enter-teacher" class="w-full bg-green-600 text-white text-sm py-2 rounded hover:bg-green-700">Ingresar</button>
        <button id="exit-teacher" class="w-full mt-2 bg-red-600 text-white text-sm py-2 rounded hover:bg-red-700">Salir</button>
      </div>
      <div id="all-students" class="mt-4 space-y-3 max-h-96 overflow-y-auto text-sm"></div>
    </div>

    <!-- Pie de página actualizado con enlace funcional -->
    <div class="text-center mt-8 pt-4 border-t border-gray-200">
      <p class="text-xs text-gray-500 leading-tight mb-2">
        <strong>Sitio provisional.</strong><br>
        Consulta también tu certificado oficial en:
      </p>
      <a 
        href="https://www.cinarsistemas.edu.co/consulta/consulta/pagos/frmcertificado.php" 
        target="_blank" 
        class="footer-link text-xs text-blue-600 underline hover:text-blue-800 break-words"
      >
        Formulario de certificado de calificaciones
      </a>
      <p class="text-xs text-gray-400 mt-3">&copy; 2025 - Todos los derechos reservados</p>
    </div>

  </div>

  <script>
    // DATOS DE TUS ESTUDIANTES (ACTUALIZADOS)
    const students = [
      { cedula: "1037658973", nombre: "Agudelo Sisquiarco Daniel", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1037658973", nombre: "Agudelo Sisquiarco Daniel", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1037658973", nombre: "Agudelo Sisquiarco Daniel", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1141316368", nombre: "Anzola Quiroz Juan Sebastian", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1141316368", nombre: "Anzola Quiroz Juan Sebastian", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1141316368", nombre: "Anzola Quiroz Juan Sebastian", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1020800564", nombre: "Bastidas Franco Jessica Alejandra", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1020800564", nombre: "Bastidas Franco Jessica Alejandra", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1085320953", nombre: "Bolaños Insuasty Tania Yazmin", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1085320953", nombre: "Bolaños Insuasty Tania Yazmin", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "36950445", nombre: "Botina Martinez Margareth", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "36950445", nombre: "Botina Martinez Margareth", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "36950445", nombre: "Botina Martinez Margareth", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1083752862", nombre: "Burbano Andrea Alexandra", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1083752862", nombre: "Burbano Andrea Alexandra", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1083752862", nombre: "Burbano Andrea Alexandra", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1085331040", nombre: "Cabrera Benavides Brisdanny Sujey", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1085331040", nombre: "Cabrera Benavides Brisdanny Sujey", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1004214911", nombre: "Cabrera Mena Manuela", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1004214911", nombre: "Cabrera Mena Manuela", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1004214911", nombre: "Cabrera Mena Manuela", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1085304874", nombre: "Cadena Maigual Monica Isabel", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1085304874", nombre: "Cadena Maigual Monica Isabel", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "36759562", nombre: "Calderon Gutierres Johana", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "36759562", nombre: "Calderon Gutierres Johana", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "36759562", nombre: "Calderon Gutierres Johana", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "59312718", nombre: "Calvache Insuasty Miryam Andrea", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "59312718", nombre: "Calvache Insuasty Miryam Andrea", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "59312718", nombre: "Calvache Insuasty Miryam Andrea", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1233191024", nombre: "Cuastumal Portilla Diana Mireya", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1233191024", nombre: "Cuastumal Portilla Diana Mireya", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1233191024", nombre: "Cuastumal Portilla Diana Mireya", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1085314941", nombre: "Dulcey Martinez Maria Fernanda", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1085314941", nombre: "Dulcey Martinez Maria Fernanda", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1004576880", nombre: "Estacio Miramá Nayelly Katherin", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1004576880", nombre: "Estacio Miramá Nayelly Katherin", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1004235310", nombre: "Fraga Ortega Karen Vanessa", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1004235310", nombre: "Fraga Ortega Karen Vanessa", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1004235310", nombre: "Fraga Ortega Karen Vanessa", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1233190066", nombre: "Gomez Risueño Leidy Alejandra", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1233190066", nombre: "Gomez Risueño Leidy Alejandra", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1233190066", nombre: "Gomez Risueño Leidy Alejandra", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1041086643", nombre: "Gongora Antony", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1041086643", nombre: "Gongora Antony", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1080041393", nombre: "Guachavez Perez William Henry", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1080041393", nombre: "Guachavez Perez William Henry", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1080041393", nombre: "Guachavez Perez William Henry", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1085292419", nombre: "Maigual Cabrera Deibi Richard", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1085292419", nombre: "Maigual Cabrera Deibi Richard", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1085292419", nombre: "Maigual Cabrera Deibi Richard", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "59829175", nombre: "Martinez Muñoz Dexi Ada", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "59829175", nombre: "Martinez Muñoz Dexi Ada", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "59829175", nombre: "Martinez Muñoz Dexi Ada", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1233191632", nombre: "Martinez Muñoz Lizethe Vanessa", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1233191632", nombre: "Martinez Muñoz Lizethe Vanessa", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1193525468", nombre: "Martos Erazo Lady Carolina", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1193525468", nombre: "Martos Erazo Lady Carolina", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1193525468", nombre: "Martos Erazo Lady Carolina", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1085303260", nombre: "Monatanchez Asprilla Edwin Alexander", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1085303260", nombre: "Monatanchez Asprilla Edwin Alexander", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1085303260", nombre: "Monatanchez Asprilla Edwin Alexander", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1004134082", nombre: "Muñoz Rosero Sebastian", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1085301782", nombre: "Naspiran Muñoz Paola Andrea", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1085301782", nombre: "Naspiran Muñoz Paola Andrea", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1085301782", nombre: "Naspiran Muñoz Paola Andrea", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1085334538", nombre: "Ortega Ruales Fabio Jhon", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1085334538", nombre: "Ortega Ruales Fabio Jhon", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1085262183", nombre: "Rivera Espinosa Dary Marcela", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1085262183", nombre: "Rivera Espinosa Dary Marcela", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1085262183", nombre: "Rivera Espinosa Dary Marcela", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "27090907", nombre: "Salazar Benavides Rosa Amalia", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1085341440", nombre: "Trejo Guerra Jose Jimmy", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1085341440", nombre: "Trejo Guerra Jose Jimmy", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1078371101", nombre: "Yanguatin M Edisson Orlando", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1078371101", nombre: "Yanguatin M Edisson Orlando", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1078371101", nombre: "Yanguatin M Edisson Orlando", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 },

      { cedula: "1085325718", nombre: "Zarama Silva Juan Fernando", asignatura: "Gestión Empresarial", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1085325718", nombre: "Zarama Silva Juan Fernando", asignatura: "Mercadeo", parcial: 1, final: 1, definitiva: 1 },
      { cedula: "1085325718", nombre: "Zarama Silva Juan Fernando", asignatura: "Proc. De Información", parcial: 1, final: 1, definitiva: 1 }
    ];

    // Buscar por cédula
    document.getElementById('buscar').addEventListener('click', () => {
      const cedula = document.getElementById('cedula').value.trim();
      const resultsDiv = document.getElementById('results');
      resultsDiv.innerHTML = '';

      if (!cedula) {
        resultsDiv.innerHTML = '<p class="text-red-500 text-center text-sm">Ingresa tu cédula.</p>';
        return;
      }

      const filtered = students.filter(s => s.cedula === cedula);
      if (filtered.length === 0) {
        resultsDiv.innerHTML = '<p class="text-red-500 text-center text-sm">No se encontraron notas para esta cédula.</p>';
        return;
      }

      const nombre = filtered[0].nombre;
      resultsDiv.innerHTML += `
        <div class="bg-white p-4 rounded-lg shadow">
          <h3 class="font-bold text-gray-800">Estudiante: ${nombre}</h3>
          <p class="text-sm text-gray-600">Cédula: ${cedula}</p>
        </div>
      `;

      filtered.forEach(asig => {
        resultsDiv.innerHTML += `
          <div class="bg-white p-4 rounded-lg shadow">
            <h4 class="font-semibold text-blue-900">${asig.asignatura}</h4>
            <div class="grid grid-cols-3 gap-2 mt-2 text-center text-sm">
              <div class="bg-blue-50 p-2 rounded">
                <div class="text-gray-600">Parcial</div>
                <div class="font-bold">${asig.parcial}</div>
              </div>
              <div class="bg-green-50 p-2 rounded">
                <div class="text-gray-600">Final</div>
                <div class="font-bold">${asig.final}</div>
              </div>
              <div class="bg-purple-50 p-2 rounded">
                <div class="text-gray-600">Definitiva</div>
                <div class="font-bold text-purple-700">${asig.definitiva}</div>
              </div>
            </div>
          </div>
        `;
      });
    });

    // Modo docente
    const teacherLink = document.getElementById('teacher-link');
    const teacherView = document.getElementById('teacher-view');
    const exitTeacher = document.getElementById('exit-teacher');

    teacherLink.addEventListener('click', () => {
      document.getElementById('student-view').style.display = 'none';
      teacherView.style.display = 'block';
    });

    exitTeacher.addEventListener('click', () => {
      teacherView.style.display = 'none';
      document.getElementById('student-view').style.display = 'block';
      document.getElementById('teacher-pass').value = '';
      document.getElementById('all-students').innerHTML = '';
    });

    document.getElementById('enter-teacher').addEventListener('click', () => {
      const pass = document.getElementById('teacher-pass').value;
      if (pass !== 'cinar2025') {
        alert('Contraseña incorrecta');
        return;
      }

      const allStudentsDiv = document.getElementById('all-students');
      allStudentsDiv.innerHTML = '<p class="font-bold text-green-600 mb-2">Todas las notas cargadas:</p>';

      const grouped = {};
      students.forEach(s => {
        if (!grouped[s.cedula]) grouped[s.cedula] = { nombre: s.nombre, asignaturas: [] };
        grouped[s.cedula].asignaturas.push(s);
      });

      Object.keys(grouped).forEach(cedula => {
        const est = grouped[cedula];
        let html = `
          <div class="border p-3 rounded bg-gray-50 mb-2">
            <strong>${est.nombre}</strong> (${cedula})
            <div class="mt-2 space-y-1">
        `;
        est.asignaturas.forEach(asig => {
          html += `
            <div class="text-xs bg-white p-1 rounded">
              ${asig.asignatura}: P${asig.parcial} | F${asig.final} | Def: ${asig.definitiva}
            </div>
          `;
        });
        html += `</div></div>`;
        allStudentsDiv.innerHTML += html;
      });
    });

    // Permitir Enter
    document.getElementById('cedula').addEventListener('keypress', e => {
      if (e.key === 'Enter') document.getElementById('buscar').click();
    });
    document.getElementById('teacher-pass').addEventListener('keypress', e => {
      if (e.key === 'Enter') document.getElementById('enter-teacher').click();
    });

    // Evitar clic derecho y selección
    document.addEventListener('contextmenu', e => e.preventDefault());
    document.addEventListener('selectstart', e => e.preventDefault());
  </script>
</body>
</html>